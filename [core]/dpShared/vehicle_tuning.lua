local tuningTable = {}
local tuningTableIndexes = {
    level       = 1,
    FrontBump   = 2,
    RearBump    = 2,
    SideSkirts  = 3,
    Spoilers    = 5,
    FrontFends  = 7,
    RearFends   = 7,
    Bonnets     = 6,
    RearLights  = 4,
    FrontLights = 4
}

-- Настройки по умолчанию
-- используются, если для автомобиля не прописаны цены

-- {Цена, Уровень}
local defaultTuningTable = {
    -- Стоковые компоненты всегда бесплатные
    components = {
        FrontBump   = {{250, 2}, {0, 1}, {0, 1}, {0, 1}, {0, 1}, {0, 1}},
        RearBump    = {{0, 1}, {0, 1}, {0, 1}, {0, 1}, {0, 1}, {0, 1}},
        SideSkirts  = {{0, 1}, {0, 1}, {0, 1}, {0, 1}, {0, 1}, {0, 1}},
        Spoilers    = {{0, 1}, {0, 1}, {0, 1}, {0, 1}, {0, 1}, {0, 1}},
        FrontFends  = {{0, 1}, {0, 1}, {0, 1}, {0, 1}, {0, 1}, {0, 1}},
        RearFends   = {{0, 1}, {0, 1}, {0, 1}, {0, 1}, {0, 1}, {0, 1}},
        Bonnets     = {{0, 1}, {0, 1}, {0, 1}, {0, 1}, {0, 1}, {0, 1}},
        RearLights  = {{0, 1}, {0, 1}, {0, 1}, {0, 1}, {0, 1}, {0, 1}},
        FrontLights = {{0, 1}, {0, 1}, {0, 1}, {0, 1}, {0, 1}, {0, 1}},
    }
}

-- Возвращает таблицу в формате
-- tuningTable.components[ComponentName][ComponentID] = { price, level }
function getVehicleTuningTable(vehicleName)
    if type(vehicleName) ~= "string" then
        outputDebugString("Invalid vehicle name: " .. tostring(vehicleName))
        return defaultTuningTable
    end
    if tuningTable[vehicleName] then
        local resultTable = {}
        for componentName, index in pairs(tuningTableIndexes) do
            local componentTable = {}
            for i, price in ipairs(tuningTable[vehicleName][index]) do
                table.insert(componentTable, {
                    price, 
                    tuningTable[vehicleName][1][i]
                })
            end
            resultTable[componentName] = componentTable
        end
        return {components = resultTable}
    else
        outputDebugString(string.format("Warning: no tuning table for \"%s\"", tostring(vehicleName)))
        return defaultTuningTable
    end
end

tuningTable.toyota_ae86 = {
    { 1,   2,   2,   3,   4   },
    { 700, 750, 800, 850, 900 },
    { 400, 450, 500, 550, 600 },
    { 250, 300, 350, 400, 450 },
    { 350, 400, 450, 500, 550 },
    { 300, 350, 400, 450, 500 },
    { 350, 400, 450, 500, 550 }   
}

tuningTable.nissan_skyline2000 = tuningTable.toyota_ae86
tuningTable.honda_civic        = tuningTable.toyota_ae86

tuningTable.mazda_mx5miata = {
    {6,6,7,7,7},    
    {1500,1550,1600,1650,1700}, 
    {620,640,660,680,700},  
    {470,490,510,530,550},  
    {400,450,500,550,600},  
    {550,580,610,640,670},  
    {600,650,700,750,800},  
}

tuningTable.nissan_180sx = {
    {8,8,9,9,9},    
    {1750,1800,1850,1900,1950}, 
    {720,740,760,780,800},  
    {570,590,610,630,650},  
    {420,480,540,610,680},  
    {700,730,760,790,820},  
    {850,900,950,1000,1050},    
}

tuningTable.nissan_silvia_s13 = {
    {12,12,13,13,13},   
    {2250,2300,2350,2400,2450}, 
    {920,940,960,980,1000}, 
    {770,790,810,830,850},  
    {900,920,960,1000,1050},    
    {1000,1030,1060,1090,1120}, 
    {1350,1400,1450,1500,1550},    
}

tuningTable.bmw_e30 = {
    {20,20,21,21,21},   
    {3000,3050,3100,3150,3200}, 
    {1020,1040,1060,1080,1100}, 
    {870,890,910,930,950},  
    {1080,1118,1156,1194,1232}, 
    {1150,1180,1210,1240,1270}, 
    {1600,1650,1700,1750,1800},     
}

tuningTable.nissan_skyline_er34 = {
    {16,16,17,17,17},
    {3250,3300,3350,3400,3450},
    {1120,1140,1160,1180,1200},
    {970,990,1010,1030,1050},
    {1270,1308,1346,1384,1422},
    {1300,1330,1360,1390,1420},
    {1850,1900,1950,2000,2050},    
}

tuningTable.toyota_mark2_100 = {
    {18,18,19,19,19},
    {3500,3550,3600,3650,3700},
    {1220,1240,1260,1280,1300},
    {1070,1090,1110,1130,1150},
    {1460,1498,1536,1574,1612},
    {1450,1480,1510,1540,1570},
    {2100,2150,2200,2250,2300},
}

tuningTable.honda_s2000 = {
    {26,26,27,27,27},
    {3750,3800,3850,3900,3950},
    {1320,1340,1360,1380,1400},
    {1170,1190,1210,1230,1250},
    {1650,1688,1726,1764,1802},
    {1600,1630,1660,1690,1720},
    {2350,2400,2450,2500,2550},
}

tuningTable.bmw_e34 = {
    {30,30,31,31,31},
    {4000,4050,4100,4150,4200},
    {1420,1440,1460,1480,1500},
    {1270,1290,1310,1330,1350},
    {1840,1878,1916,1954,1992},
    {1750,1780,1810,1840,1870},
    {2600,2650,2700,2750,2800},
}

tuningTable.nissan_silvia_s14 = {
    {35,35,36,36,36},
    {4250,4300,4350,4400,4450},
    {1520,1540,1560,1580,1600},
    {1370,1390,1410,1430,1450},
    {2030,2068,2106,2144,2182},
    {1900,1930,1960,1990,2020},
    {2850,2900,2950,3000,3050},
}

tuningTable.nissan_silvia_s15 = {
    {38,38,39,39,39},
    {4500,4550,4600,4650,4700},
    {1620,1640,1660,1680,1700},
    {1470,1490,1510,1530,1550},
    {2220,2258,2296,2334,2372},
    {2050,2080,2110,2140,2170},
    {3100,3150,3200,3250,3300},
}

tuningTable.bmw_e60 = {
    {43,43,44,44,44},
    {4800,4850,4900,4950,5000},
    {1720,1740,1760,1780,1800},
    {1570,1590,1610,1630,1650},
    {2410,2448,2486,2524,2562},
    {2200,2230,2260,2290,2320},
    {3350,3400,3450,3500,3550},
}

tuningTable.toyota_supra = {
    {46,46,47,47,47},
    {5050,5100,5150,5200,5250},
    {1820,1840,1860,1880,1900},
    {1670,1690,1710,1730,1750},
    {2600,2638,2676,2714,2752},
    {2350,2380,2410,2440,2470},
    {3600,3650,3700,3750,3800},    
}

tuningTable.bmw_e46 = {
    {50,50,51,51,51},
    {5300,5350,5400,5450,5500},
    {1920,1940,1960,1980,2000},
    {1770,1790,1810,1830,1850},
    {2790,2828,2866,2904,2942},
    {2500,2530,2560,2590,2620},
    {3850,3900,3950,4000,4050},
}

tuningTable.nissan_skyline_gtr34 = {
    {56,56,57,57,57},
    {5550,5600,5650,5700,5750},
    {2020,2040,2060,2080,2100},
    {1870,1890,1910,1930,1950},
    {2980,3018,3056,3094,3132},
    {2650,2680,2710,2740,2770},
    {4100,4150,4200,4250,4300},
}

tuningTable.subaru_brz = {
    {60,60,61,61,61},
    {5800,5850,5900,5950,6000},
    {2120,2140,2160,2180,2200},
    {1970,1990,2010,2030,2050},
    {3170,3208,3246,3284,3322},
    {2800,2830,2860,2890,2920},
    {4350,4400,4450,4500,4550},
}

tuningTable.nissan_gtr35 = {
    {65,65,66,67,68},
    {6350,6400,6450,6500,6550},
    {2220,2240,2260,2280,2300},
    {2070,2090,2110,2130,2150},
    {3360,3398,3436,3474,3512},
    {2950,2980,3010,3040,3070},
    {4600,4650,4700,4750,4800},
}

tuningTable.lamborghini_huracan = {
    {69,70,72,73,73},
    {6600,6650,6700,6750,6800},
    {2320,2340,2360,2380,2400},
    {2170,2190,2210,2230,2250},
    {3550,3588,3626,3664,3702},
    {3100,3130,3160,3190,3220},
    {4850,4900,4950,5000,5050},
}

tuningTable.ferrari_458_italia = {
    {74,76,78,79,79},
    {6850,6900,6950,7000,7050},
    {2420,2440,2460,2480,2500},
    {2270,2290,2310,2330,2350},
    {3740,3778,3816,3854,3892},
    {3250,3280,3310,3340,3370},
    {5100,5150,5200,5250,5300},
}

tuningTable.lamborghini_aventador = {
    {81,83,85,87,89},
    {7100,7150,7200,7250,7300},
    {2520,2540,2560,2580,2600},
    {2370,2390,2410,2430,2450},
    {3930,3968,4006,4044,4082},
    {3400,3430,3460,3490,3520},
    {5350,5400,5450,5500,5550},
}

tuningTable.toyota_altezza = {
    {22,22,23,23,23},
    {3150,3200,3250,3300,3350},
    {1040,1060,1080,1100,1130},
    {870,890,910,930,950},
    {1080,1118,1156,1194,1232},
    {1150,1180,1210,1240,1270},
    {1600,1650,1700,1750,1800},
}

tuningTable.nissan_datsun_240z = {
    {14,14,15,15,15},
    {2250,2300,2350,2400,2450},
    {920,940,960,980,1000},
    {770,790,810,830,850},
    {900,920,960,1000,1050},
    {1000,1030,1060,1090,1120},
    {1350,1400,1450,1500,1550},
}

if localPlayer then
    for name in pairs(getVehiclesTable()) do
        if not tuningTable[name] then
            outputDebugString("Missing tuning table for " .. tostring(name))
        end
    end
end